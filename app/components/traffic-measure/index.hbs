<div class="au-o-grid">
  {{!-- template-lint-disable no-inline-styles --}}
  <div class="au-o-grid__item au-u-1-2" style="padding:50px">
    <AuHeading @level="2" @skin="2">
      {{this.label}}
    </AuHeading>
    <br><br>
    <AuHeading @level="3" @skin="3">
      {{t "trafficMeasureConcept.attr.sign"}}
    </AuHeading>
    <div class="au-o-grid">
      <div class="au-o-grid__item au-u-1-2">
        <AuInput @icon="search" {{on "change" this.updateSearchString}} id="input-signs" @width="block"/>
      </div>
      <div class="au-o-grid__item au-u-1-2">  
        <AuButton @skin="secondary"  @width="block" {{on "click" (perform this.addSign)}}>
          {{t "trafficMeasureConcept.attr.addSign"}}
        </AuButton>
      </div>
    </div>
    <AuHelpText @error={{true}}>{{this.signError}}</AuHelpText>
    <div class="signs-container">
      {{#each this.signs as |sign|}}
        <div class="sign-container">
          <img src={{sign.image}} alt="" role="presentation" height="50">
          {{!-- template-lint-disable no-bare-strings --}}
          <button {{on "click" (fn this.removeSign sign)}} type="button" class="delete-sign-button">
            X
          </button>
        </div>
      {{/each}}
    </div>
    <br><br>
    {{#if this.signs}}
      <AuHeading @level="3" @skin="3">
        {{t "trafficMeasureConcept.attr.template"}}
      </AuHeading>
      {{!-- template-lint-disable no-inline-styles --}}
      <AuTextarea id="textarea" @width="block" {{on "change" this.updateTemplate}} @value={{this.template.value}} style="resize: none; height: 200px;"></AuTextarea>
      <AuButton @skin="secondary"  @width="block" {{on "click" this.parseTemplate}}>
        {{t "trafficMeasureConcept.attr.updatePreviewEtc"}}
      </AuButton>
    {{/if}}
    {{#if this.mappings.length}}
    <br><br>
    <AuHeading @level="3" @skin="3">
      {{t "trafficMeasureConcept.attr.variables"}}
    </AuHeading>
      <div class="au-c-data-table__wrapper">
        <table class="au-c-data-table__table">
          <thead class="au-c-data-table__header">
            <tr>
              <th>{{t "trafficMeasureConcept.attr.variable"}}</th>
              <th>{{t "trafficMeasureConcept.attr.type"}}</th>
            </tr>
          </thead>
          <tbody>
          {{#each this.mappings as |mapping|}}
            <tr>
              <td>{{mapping.variable}}</td>
              {{!-- template-lint-disable no-inline-styles --}}
              <td style="width: 50%;">
                <PowerSelect
                  @allowClear={{false}}
                  @searchEnabled={{false}}
                  @options={{this.inputTypes}}
                  @selected={{mapping.type}}
                  @onChange={{fn (mut mapping.type)}} as |type|
                >
                  {{type}}
                </PowerSelect>
              </td>
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
    <AuButton  
      @width="block" 
      {{on "click" (perform this.save)}}
      @loading={{if this.save.isRunning true false}}
      @disabled={{if this.save.isRunning true false}}
    >
      {{t "trafficMeasureConcept.crud.save"}}
    </AuButton>
    <AuButton  @alert={{true}} @width="block" {{on "click" (perform this.delete)}}>
      {{t "trafficMeasureConcept.crud.delete"}}
    </AuButton>
    {{/if}}
  </div>

  {{!-- template-lint-disable no-inline-styles --}}
  <div class="au-o-grid__item au-u-1-2" style="padding:50px; background-color:#eeeeee">
    <AuHeading @level="3" @skin="3">
      {{t "trafficMeasureConcept.attr.preview"}}
    </AuHeading>
    {{#each this.signs as |sign|}}
      <img src={{sign.image}} alt="" role="presentation" height="50">
    {{/each}}
    <br><br>
    {{!-- template-lint-disable no-triple-curlies --}}
    {{{this.preview}}}
    <br><br>
    <AuHeading @level="3" @skin="3">
      {{t "trafficMeasureConcept.attr.rdfaModel"}}
    </AuHeading>
    <pre>
      {{this.model}}
    </pre>
  </div>
</div>